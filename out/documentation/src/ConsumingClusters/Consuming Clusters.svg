<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="385px" preserveAspectRatio="none" style="width:593px;height:385px;" version="1.1" viewBox="0 0 593 385" width="593px" zoomAndPan="magnify"><defs><filter height="300%" id="f14yupsvapoqc4" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="174" x="210" y="27.4023">Consuming Clusters</text><rect fill="#FFFFFF" filter="url(#f14yupsvapoqc4)" height="178.8633" style="stroke: #000000; stroke-width: 2.0;" width="568" x="13" y="149.3086"/><rect fill="#FFFFFF" height="60.6211" style="stroke: none; stroke-width: 1.0;" width="568" x="13" y="267.5508"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="52" x2="52" y1="73.6875" y2="345.1719"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="380.5" x2="380.5" y1="73.6875" y2="345.1719"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="541" x2="541" y1="73.6875" y2="345.1719"/><rect fill="#FEFECE" filter="url(#f14yupsvapoqc4)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="54" x="23" y="38.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="40" x="30" y="58.7344">Client</text><rect fill="#FEFECE" filter="url(#f14yupsvapoqc4)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="54" x="23" y="344.1719"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="40" x="30" y="364.707">Client</text><rect fill="#FEFECE" filter="url(#f14yupsvapoqc4)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="57" x="350.5" y="38.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="43" x="357.5" y="58.7344">Server</text><rect fill="#FEFECE" filter="url(#f14yupsvapoqc4)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="57" x="350.5" y="344.1719"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="43" x="357.5" y="364.707">Server</text><rect fill="#FEFECE" filter="url(#f14yupsvapoqc4)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="56" x="511" y="38.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="42" x="518" y="58.7344">Cache</text><rect fill="#FEFECE" filter="url(#f14yupsvapoqc4)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="56" x="511" y="344.1719"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="42" x="518" y="364.707">Cache</text><polygon fill="#A80036" points="369,100.998,379,104.998,369,108.998,373,104.998" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="52" x2="375" y1="104.998" y2="104.998"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113" x="59" y="100.2559">fetch(resource_id)</text><polygon fill="#A80036" points="529,130.3086,539,134.3086,529,138.3086,533,134.3086" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="381" x2="535" y1="134.3086" y2="134.3086"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="116" x="388" y="129.5664">query(resource_id)</text><path d="M13,149.3086 L75,149.3086 L75,156.3086 L65,166.3086 L13,166.3086 L13,149.3086 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="178.8633" style="stroke: #000000; stroke-width: 2.0;" width="568" x="13" y="149.3086"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="28" y="162.877">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="104" x="90" y="161.9434">[Query Successful]</text><polygon fill="#A80036" points="392,183.9297,382,187.9297,392,191.9297,388,187.9297" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="386" x2="540" y1="187.9297" y2="187.9297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="127" x="398" y="183.1875">return query_results</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="381" x2="423" y1="217.2402" y2="217.2402"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="423" x2="423" y1="217.2402" y2="230.2402"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="382" x2="423" y1="230.2402" y2="230.2402"/><polygon fill="#A80036" points="392,226.2402,382,230.2402,392,234.2402,388,230.2402" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="146" x="388" y="212.498">stringify(query_results)</text><polygon fill="#A80036" points="63,255.5508,53,259.5508,63,263.5508,59,259.5508" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="57" x2="380" y1="259.5508" y2="259.5508"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="199" x="69" y="254.8086">return stringified_query_results</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="13" x2="581" y1="268.5508" y2="268.5508"/><polygon fill="#A80036" points="392,286.8613,382,290.8613,392,294.8613,388,290.8613" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="386" x2="540" y1="290.8613" y2="290.8613"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="75" x="398" y="286.1191">return None</text><polygon fill="#A80036" points="63,316.1719,53,320.1719,63,324.1719,59,320.1719" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="57" x2="380" y1="320.1719" y2="320.1719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="305" x="69" y="315.4297">return {type: error, message: ResourceNotFound}</text><!--MD5=[d84e32a70fb735e57b3ccea65478f33b]
@startuml

title Consuming Clusters

Client -> Server: fetch(resource_id)
Server -> Cache: query(resource_id)
alt Query Successful
    Server <- Cache: return query_results
    Server -> Server: stringify(query_results)
    Client <- Server: return stringified_query_results
else
    Server <- Cache: return None
    Client <- Server: return {type: error, message: ResourceNotFound}
end


@enduml

PlantUML version 1.2020.10(Sun May 17 11:35:57 CEST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 13.0.1+9
Operating System: Mac OS X
Default Encoding: UTF-8
Language: en
Country: DE
--></g></svg>